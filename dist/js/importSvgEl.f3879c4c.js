var O=Object.defineProperty,R=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var b=(n,t,a)=>t in n?O(n,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[t]=a,u=(n,t)=>{for(var a in t||(t={}))q.call(t,a)&&b(n,a,t[a]);if(T)for(var a of T(t))z.call(t,a)&&b(n,a,t[a]);return n},y=(n,t)=>R(n,j(t));import{u as M,_ as P}from"./_plugin-vue_export-helper.560064d8.js";import{c as V}from"./cloneDeep.996521e2.js";import{v as C}from"./v4.751847df.js";import{d as B,q as $,r as d,A as H,o as m,c as _,y as S,a as v,w as g,u as c,F as I,B as x,b as J,t as K,E as Q,C as W}from"./index.e95e061e.js";const X={class:"search-box"},Y=["alt"],Z=B({name:"ImportSvg"}),ee=B(y(u({},Z),{setup(n){const{fabric:t,canvasEditor:a}=M(),D={left:100,top:100,shadow:"",fontFamily:"1-1"},E={value:"",label:"全部"},e=$({search:"",placeholder:"",jsonFile:null,materialType:[""],materialTypelist:[],materialist:[]});a.getMaterialType("svg").then(l=>{e.materialTypelist=[...l],e.materialist=l});const F=(l,s)=>{const{label:o,value:r}=s[0];e.placeholder=o,e.search="",h(r)},h=l=>{if(!l)e.materialist=V(e.materialTypelist);else{const s=e.materialTypelist.filter(o=>o.value===l)||[];e.materialist=s}if(e.search){const s=V(e.materialist);e.materialist=s.map(o=>(o.list&&(o.list=o.list.filter(r=>r.label.includes(e.search))),o))}},k=()=>{const[l]=e.materialType;h(l)},w=l=>{const s=l.target.src;t.loadSVGFromURL(s,o=>{const r=t.util.groupSVGElements(o,{shadow:"",fontFamily:"arial",id:C(),name:"svg元素"});a.dragAddItem(l,r)})},L=l=>{const s=l.target.src;t.loadSVGFromURL(s,(o,r)=>{const p=t.util.groupSVGElements(o,y(u(u({},r),D),{id:C(),name:"svg元素"}));a.canvas.add(p),a.canvas.setActiveObject(p),a.canvas.requestRenderAll()})};return(l,s)=>{const o=d("Button"),r=d("Cascader"),p=d("Input"),A=d("Divider"),G=d("Tooltip"),U=H("lazy");return m(),_("div",null,[S("div",X,[v(r,{data:[E,...c(e).materialTypelist],modelValue:c(e).materialType,"onUpdate:modelValue":s[0]||(s[0]=i=>c(e).materialType=i),onOnChange:F},{default:g(()=>[v(o,{icon:"ios-menu"})]),_:1},8,["data","modelValue"]),v(p,{class:"input",placeholder:c(e).placeholder,modelValue:c(e).search,"onUpdate:modelValue":s[1]||(s[1]=i=>c(e).search=i),search:"",onOnChange:k},null,8,["placeholder","modelValue"])]),(m(!0),_(I,null,x(c(e).materialist,i=>(m(),_("div",{key:i.value},[v(A,{plain:"",orientation:"left"},{default:g(()=>[J(K(i.label),1)]),_:2},1024),(m(!0),_(I,null,x(i.list,(f,N)=>(m(),Q(G,{content:f.label,key:`${N}-bai1-button`,placement:"top"},{default:g(()=>[W(S("img",{class:"tmpl-img",alt:f.label,onClick:L,onDragend:w},null,40,Y),[[U,f.src]])]),_:2},1032,["content"]))),128))]))),128))])}}}));const ne=P(ee,[["__scopeId","data-v-df46524b"]]);export{ne as default};
